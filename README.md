# 链家二手房源爬取

> 本项目用到的非自带库有：requests，pandas，numpy，xpinyin，lxml

## 简介
这是个简单粗暴的 python 小爬虫项目，爬取了来自链家网的二手房源信息，处理成表格并保存在本地。
- 数据来源：链家二手房
- 爬取内容：房源信息，具体特征如下：

```python
self.column = [
    '标题', '介绍', '小区', '价格（万元）', '平米单价（元）', '建筑面积（平米）', '套内面积（平米）',
    '大区域', '小区域', '户型', '朝向', '所在楼层', '装修情况', '户型结构', '建筑类型', '建筑结构',
    '建造时间', '房屋用途', '挂牌时间', '上次交易时间', '房屋年限', '产权所属', '配备电梯', '梯户比例'
]
```

- 所用到的相关工具
    - 使用 request 获取 html 内容
    - 使用 Xpath 语法解析 html 内容
    - 使用 pandas 整理数据
    - 使用 tkinter 构建 GUI 界面
    - 使用 xpinyin 将中文转换为拼音
- 数据截图

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210205094644595.png" alt="image-20210205094644595" style="zoom:67%;" />

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210205094702637.png" alt="image-20210205094702637" style="zoom:67%;" />

- 程序截图

<img src="http://markdown-1303167219.cos.ap-shanghai.myqcloud.com/image-20210204212130209.png" alt="image-20210204212130209" style="zoom:67%;" />

# 使用方法

1. 安装程序运行所必须的第三方库
2. 打开 `GUI_entry.py` 文件并运行，可以以图形界面形式操作程序；
打开 `Terminal_entry.py` 文件并运行，可以以终端形式操作程序
3. 输入目标城市、区域、爬取页数，即可开始爬取辣

> 注意事项
- 城市和区域需输入中文
- 具体区域的选择，请打开所在城市链家网站自行寻找
- 爬取页数最多支持 100 页（因为网站只放出了前 100 页的房源信息...）
- 若使用图形界面操作，请在界面中指定保存路径；
    若使用终端操作，默认保存路径为 `./Data/XX房源.csv`，即在文件当前目录新建一个 `Data` 文件夹在此保存文件

## 实现的功能

1. 指定城市、地区
2. 指定爬取页数
3. 以 `.csv` 格式保存数据
4. 指定保存路径
5. GUI 页面操作
6. 终端操作

## 计划实(gu)现(gu)的功能

1. 美化 GUI

2. 简化代码

3. 增添代码注释

4. 尝试使用 pyqt 构造界面

5. 尝试使用简单的机器学习算法来预测房价（当然结果不好就不会放出来了）
